<!DOCTYPE html>
<html>
<head>
<title>System Error</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body {
        margin: 0;
        background: black;
        color: lime;
        font-family: monospace;
        font-size: 16px;
        padding: 10px;
        overflow: hidden;
    }
    #screen {
        white-space: pre-wrap;
    }
    
    /* ADD THIS PART */
    #click-prompt {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 20px;
        color: #555;
        cursor: pointer;
        z-index: 10;
    }
    /* END OF ADDED PART */

    @keyframes flash {
        0% { background-color: black; }
        50% { background-color: #300000; }
        100% { background-color: black; }
    }
</style>
</head>
<body>

<div id="click-prompt" onclick="startEffect()">
    Click to initialize...
</div>

<div id="screen"></div>

<script>
let screen = document.getElementById("screen");
let prompt = document.getElementById("click-prompt");

function glitchLine() {
    const random = Math.floor(Math.random() * 999999);
    const text = "⚠️ SYSTEM FAILURE 0x" + random.toString(16).toUpperCase() +
                 " — MEMORY CORRUPTION DETECTED";
    return text;
}

let count = 0;
let limit = 20; // run 100 times

function glitch() {
    if (count < limit) {
        screen.innerText += glitchLine() + "\n";
        document.body.style.animation = "flash 0.1s";
        setTimeout(() => { document.body.style.animation = ""; }, 120);
        count++;
        setTimeout(glitch, 60); // fast animation
    } else {
        screen.innerText += "\n\n✔️ SYSTEM STABILIZED. NO DATA LOST.";
    }
}

// ADD THIS NEW FUNCTION
function startEffect() {
    // 1. Hide the "Click to initialize" text
    prompt.style.display = 'none';

    // 2. Request to go fullscreen
    document.documentElement.requestFullscreen();

    // 3. Start the glitch
    glitch();
}

// DO NOT run glitch() here on page load anymore
// glitch(); 

</script>
</body>
</html>
